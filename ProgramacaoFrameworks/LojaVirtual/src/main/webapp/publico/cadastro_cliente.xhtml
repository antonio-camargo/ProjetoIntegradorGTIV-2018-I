<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Cadastro de Cliente</title>
	<style>
body {
	margin-top: 0;
	margin: 0;
}
</style>
</h:head>
<h:body>
	<ui:insert name="header">
		<ui:include src="/templates/modelo.xhtml" />
	</ui:insert>
	<h:form id="form">
		<p:messages />
		<div align="center">

			<p:panel id="form" header="Cadastro de Pessoa"
				style="margin-bottom:20px">
				<h:panelGrid columns="2" cellpadding="3">
					<p:outputLabel value="Nome:" />
					<p:inputText value="#{pessoaCtrl.pessoa.nome}" />

					<p:outputLabel value="Cpf:" />
					<p:inputText value="#{pessoaCtrl.pessoa.cpf}" />

					<p:outputLabel value="Rg:" />
					<p:inputText value="#{pessoaCtrl.pessoa.rg}" />

					<p:outputLabel value="Data de nascimento:" />
					<p:inputMask value="#{pessoaCtrl.pessoa.data_nasc}"
						mask="99/99/9999">
						<f:convertDateTime pattern="dd/MM/yyyy" locale="pt_BR"
							timeZone="America/Sao_Paulo" />
					</p:inputMask>

					<p:outputLabel value="Rua" />
					<p:inputText value="#{pessoaCtrl.pessoa.rua}" />

					<p:outputLabel value="Bairro:" />
					<p:inputText value="#{pessoaCtrl.pessoa.bairro}" />


					<p:outputLabel value="Uf:" />
					<p:inputText value="#{pessoaCtrl.pessoa.uf}" />


					<p:outputLabel value="Cidade:" />
					<p:inputText value="#{pessoaCtrl.pessoa.cidade}" />


					<p:outputLabel value="Cep:" />
					<p:inputText value="#{pessoaCtrl.pessoa.cep}" />

					<p:outputLabel value="Email:" />
					<p:inputText value="#{pessoaCtrl.pessoa.email}" />

					<p:outputLabel value="Senha:" />
					<p:password value="#{pessoaCtrl.pessoa.senha}" />

					<p:outputLabel for="console" value="Tipo:" />
					<p:selectOneMenu id="console" value="#{pessoaCtrl.pessoa.tipo}"
						style="width:155px">
						<f:selectItem itemLabel="ROLE_CLIENTE" itemValue="ROLE_CLIENTE" />
					</p:selectOneMenu>
				</h:panelGrid>

				<h:dataTable value="#{pessoaCtrl.pessoa.fones}" var="fone"
					rules="rows">
					<f:facet name="header">
						<p:commandButton value="Adicionar Fone" update="form"
							action="#{pessoaCtrl.actionInserirFone}" />
					</f:facet>

					<h:column>
						<f:facet name="header">
							<h:outputLabel value="Número" />
						</f:facet>
						<p:inputText value="#{fone.numero}" size="20" maxlength="20" />
					</h:column>

					<h:column>
						<f:facet name="header">
							<h:outputLabel value="descrição" />
						</f:facet>
						<p:inputText value="#{fone.descricao}" />
					</h:column>

					<h:column>
						<p:commandLink value="Excluir Fone"
							actionListener="#{pessoaCtrl.actionExcluirFone(fone)}"
							update="form" />
					</h:column>

				</h:dataTable>
				<p:commandButton value="Gravar" action="#{pessoaCtrl.actionGravar}"
					update="form" />
			</p:panel>


		</div>
	</h:form>
</h:body>
</html>